<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>IG Web SDK</title>
</head>
<body>
    <script src="https://sdk-facescan.insightgenie.ai/"></script>
  <div id="provided-container-id"></div>
  <script>
    window.startSDK = function (configJson) {
      const config = configJson;
          console.log("Calling IGWebSDK.init");

      IGWebSDK.init({
        videoToken: config.videoToken,
        age: config.age,
        gender: config.gender,
        noDesign: true,
        buttonBgColor: config.buttonBgColor || "2e8ece",
        buttonTextColor: config.buttonTextColor || "ffffff",
        containerId: "provided-container-id"

      });
    };
  </script>

  <script>
  function sendMessageToFlutter(data) {
    if (window.flutter_inappwebview && window.flutter_inappwebview.postMessage) {
      window.flutter_inappwebview.postMessage(data);
    } else {
      console.warn("JS bridge not ready");
    }
  }

  // Example usage after page load:
  window.addEventListener("load", () => {
    sendMessageToFlutter("SDK page loaded");

    // If you want to auto-start SDK with Flutter config, that comes from Flutter via runJavaScript
    // So nothing else needed here for now
  });
</script>
</body>
</html>
